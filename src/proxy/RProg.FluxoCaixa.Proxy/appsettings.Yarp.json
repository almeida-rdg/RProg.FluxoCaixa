{
  "ReverseProxy": {
    "Routes": {
      "lancamentos-route": {
        "ClusterId": "lancamentos-cluster",
        "Match": {
          "Path": "/api/lancamentos/{**catch-all}",
          "Methods": [ "GET", "POST", "PUT", "DELETE" ]
        },
        "Transforms": [
          {
            "PathPattern": "/api/lancamentos/{**catch-all}"
          },
          {
            "RequestHeader": "X-Forwarded-For",
            "Append": "{RemoteIpAddress}"
          },
          {
            "RequestHeader": "X-Forwarded-Proto",
            "Set": "{Scheme}"
          }
        ]
      },
      "consolidado-route": {
        "ClusterId": "consolidado-cluster",
        "Match": {
          "Path": "/api/consolidado/{**catch-all}",
          "Methods": [ "GET" ]
        },
        "Transforms": [
          {
            "PathPattern": "/api/consolidado/{**catch-all}"
          },
          {
            "RequestHeader": "X-Forwarded-For",
            "Append": "{RemoteIpAddress}"
          },
          {
            "RequestHeader": "X-Forwarded-Proto",
            "Set": "{Scheme}"
          }
        ]
      }
    },
    "Clusters": {
      "lancamentos-cluster": {
        "LoadBalancingPolicy": "RoundRobin",
        "Destinations": {
          "lancamentos-1": {
            "Address": "http://lancamentos-api:8080/"
          }
        },
        "HealthCheck": {
          "Enabled": true,
          "Interval": "00:00:10",
          "Timeout": "00:00:05",
          "Policy": "ConsecutiveFailures",
          "Path": "/health"
        },
        "Metadata": {
          "ConsecutiveFailureLimit": "3",
          "ReactivationPeriod": "00:01:00"
        },
        "HttpRequest": {
          "Timeout": "00:00:30"
        }
      },
      "consolidado-cluster": {
        "LoadBalancingPolicy": "RoundRobin",
        "Destinations": {
          "consolidado-1": {
            "Address": "http://consolidado-api:8080/"
          }
        },
        "HealthCheck": {
          "Enabled": true,
          "Interval": "00:00:10",
          "Timeout": "00:00:05",
          "Policy": "ConsecutiveFailures",
          "Path": "/health"
        },
        "Metadata": {
          "ConsecutiveFailureLimit": "3",
          "ReactivationPeriod": "00:01:00"
        },
        "HttpRequest": {
          "Timeout": "00:00:30"
        }
      }
    }
  }
}
