{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft.AspNetCore": "Information",
      "Yarp": "Debug"
    }  },
  "ReverseProxy": {
    "Routes": {
      "lancamentos-route": {
        "ClusterId": "lancamentos-cluster",
        "Match": {
          "Path": "/api/lancamentos/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/lancamentos/{**catch-all}"
          }
        ]
      },
      "consolidado-route": {
        "ClusterId": "consolidado-cluster",
        "Match": {
          "Path": "/api/consolidado/{**catch-all}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/consolidado/{**catch-all}"
          }
        ]
      }
    },
    "Clusters": {
      "lancamentos-cluster": {
        "LoadBalancingPolicy": "RoundRobin",
        "HealthCheck": {
          "Enabled": true,
          "Interval": "00:00:05",
          "Timeout": "00:00:03",
          "Policy": "passive",
          "Path": "/health"
        },
        "HttpClient": {
          "DangerousAcceptAnyServerCertificate": true
        },
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5001/"
          }
        }
      },
      "consolidado-cluster": {
        "LoadBalancingPolicy": "RoundRobin",
        "HealthCheck": {
          "Enabled": true,
          "Interval": "00:00:05",
          "Timeout": "00:00:03",
          "Policy": "passive",
          "Path": "/health"
        },
        "HttpClient": {
          "DangerousAcceptAnyServerCertificate": true
        },
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5002/"
          }
        }
      }
    }
  },
  "Yarp": {
    "LoadBalancing": {
      "Policy": "RoundRobin"
    },
    "HealthChecks": {
      "Enabled": true,
      "Interval": "00:00:05",
      "Timeout": "00:00:03"
    },
    "CircuitBreaker": {
      "MaxConcurrentRequests": 50,
      "MaxConcurrentRetries": 2,
      "ConsecutiveFailureLimit": 2,
      "ReactivationPeriod": "00:00:30"
    }
  },
  "Cache": {
    "DefaultExpirationMinutes": 1,
    "MaxSizeInMB": 50,
    "SizeLimit": 100
  },
  "RateLimit": {
    "RequestsPerMinute": 120,
    "RequestsPerSecond": 20,
    "BlockDurationMinutes": 2
  },  "Security": {
    "EnableProtection": true,
    "MaxRequestSizeInMB": 10
  },
  "Jwt": {
    "SecretKey": "DevSecretKey.FluxoCaixa.2024.ForDevelopmentOnly.MustBe256BitsOrMore.DoNotUseInProduction",
    "Issuer": "RProg.FluxoCaixa.Dev",
    "Audience": "RProg.FluxoCaixa.API.Dev",
    "ExpirationMinutes": 120
  },
  "Authentication": {
    "EnableJwt": false,
    "RequireHttps": false,
    "ValidateLifetime": true,
    "ClockSkew": "00:05:00"
  },
  "Monitoring": {
    "HealthCheckIntervalSeconds": 15,
    "ScalabilityCheckIntervalMinutes": 1,
    "CpuThresholdPercent": 60,
    "MemoryThresholdPercent": 60,
    "UnhealthyTimeoutMinutes": 1
  }
}
